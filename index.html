<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DX7 Audio-Reactive Bootloader</title>
  <style>
    body {
      background-color: #000010;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      font-family: 'Courier New', monospace;
    }

    svg {
      width: 100%;
      max-width: 600px;
      transition: filter 0.1s linear;
    }

    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 1.2rem;
      background: #222;
      color: #ff69b4;
      border: 2px solid #ff69b4;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <svg viewBox="0 0 280 60" xmlns="http://www.w3.org/2000/svg">
    <text x="40" y="37" font-size="18" font-family="monospace" fill="#001f4d">
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="0.20s" dur="20s" repeatCount="indefinite" />d
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="0.40s" dur="20s" repeatCount="indefinite" />r
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="0.60s" dur="20s" repeatCount="indefinite" />e
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="0.80s" dur="20s" repeatCount="indefinite" />a
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="1.00s" dur="20s" repeatCount="indefinite" />m
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="1.20s" dur="20s" repeatCount="indefinite" />b
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="1.40s" dur="20s" repeatCount="indefinite" />o
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="1.60s" dur="20s" repeatCount="indefinite" />o
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="1.80s" dur="20s" repeatCount="indefinite" />t
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="2.00s" dur="20s" repeatCount="indefinite" /> 
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="2.20s" dur="20s" repeatCount="indefinite" />v
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="2.40s" dur="20s" repeatCount="indefinite" />e
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="2.60s" dur="20s" repeatCount="indefinite" />r
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="2.80s" dur="20s" repeatCount="indefinite" />i
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="3.00s" dur="20s" repeatCount="indefinite" />f
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="3.20s" dur="20s" repeatCount="indefinite" />i
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="3.40s" dur="20s" repeatCount="indefinite" />e
      </tspan>
      <tspan opacity="0">
        <animate attributeName="opacity" values="0;1;1;0" keyTimes="0;0.1;0.9;1" begin="3.60s" dur="20s" repeatCount="indefinite" />d
      </tspan>
    </text>
  </svg>

  <audio id="dx7audio" loop>
    <source src="loop1_clean_loopable_slowed_30_percent.mp3" type="audio/mpeg">
  </audio>

  <button onclick="toggleAudio()">üéõÔ∏è Toggle DX7 Sound</button>

  <script>
    const audio = document.getElementById('dx7audio');
    const svg = document.querySelector('svg');

    let ctx, analyser, srcNode;

    function toggleAudio() {
      if (!ctx) initAudio();
      if (audio.paused) {
        ctx.resume();
        audio.play();
      } else {
        audio.pause();
      }
    }

    function initAudio() {
      ctx = new (window.AudioContext || window.webkitAudioContext)();
      analyser = ctx.createAnalyser();
      srcNode = ctx.createMediaElementSource(audio);
      srcNode.connect(analyser);
      analyser.connect(ctx.destination);
      analyser.fftSize = 256;

      const bufferLength = analyser.frequencyBinCount;
      const dataArray = new Uint8Array(bufferLength);

      function animate() {
        analyser.getByteFrequencyData(dataArray);
        const volume = dataArray.reduce((a, b) => a + b, 0) / bufferLength;

        const blur = Math.min(10, volume / 10);
        svg.style.filter = `drop-shadow(0 0 ${blur}px #ff69b4)`;

        requestAnimationFrame(animate);
      }
      animate();
    }
  </script>
<footer style="margin-top: 40px; color: #666; font-size: 0.8rem;">
  a synth boot dream by <a href="https://www.linkedin.com/in/hoffamania/" style="color: #ff69b4;" target="_blank">@hoffamania</a>
</footer>
</body>
</html>
